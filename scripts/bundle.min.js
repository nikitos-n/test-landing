window.addEventListener("load",(e=>{handleClickAdvantages()}));const handleClickAdvantages=()=>{document.querySelectorAll(".advantages-section__item").forEach((e=>{e.addEventListener("click",(t=>handleClickAdvantageItem(t,e)))}))},handleClickAdvantageItem=(e,t)=>{const n=t.nextElementSibling,a=t.lastElementChild;n.classList.contains("section__subtitle_close")?(t.classList.add("section__item_open"),n.classList.remove("section__subtitle_close"),a.classList.add("opened")):(t.classList.remove("section__item_open"),n.classList.add("section__subtitle_close"),a.classList.remove("opened"))};window.addEventListener("load",(e=>{e.preventDefault();const t={errors:{isEmailNotValid:!1,isNameEmpty:!1,isQuestionEmpty:!1},values:{emailInputValue:"",nameInputValue:"",questionTextInputValue:""}},n=document.querySelector('input[name="email"]'),a=document.querySelector('input[name="name"]'),o=document.querySelector('textarea[name="question"]'),i=document.querySelector("form");n.addEventListener("blur",(e=>{e.preventDefault(),e.stopPropagation();const{target:n}=e;handleChangeEmailInput(n,t)})),a.addEventListener("blur",(e=>{e.preventDefault(),e.stopPropagation();const{target:n}=e;handleChangeNameInput(n,t)})),o.addEventListener("blur",(e=>{e.preventDefault(),e.stopPropagation();const{target:n}=e;handleChangeQuestionTextInput(n,t)})),i.addEventListener("submit",(async e=>{e.preventDefault(),e.stopPropagation(),await handleQuestionFormSubmit(e.target,n,a,o,t)}))}));const handleChangeEmailInput=(e,t)=>{const{value:n}=e,a=document.querySelector("#email-empty");/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/g.test(n)&&Boolean(n.trim())?(t.errors.isEmailNotValid=!1,e.removeAttribute("id"),a.style.display="none"):(t.errors.isEmailNotValid=!0,e.setAttribute("id","input-error"),a.style.display="inline"),t.values.emailInputValue=n},handleChangeNameInput=(e,t)=>{const{value:n}=e,a=document.querySelector("#name-empty");Boolean(n.trim())?(t.errors.isNameEmpty=!1,e.removeAttribute("id"),a.style.display="none"):(t.errors.isNameEmpty=!0,e.setAttribute("id","input-error"),a.style.display="inline"),t.values.nameInputValue=n},handleChangeQuestionTextInput=(e,t)=>{const{value:n}=e,a=document.querySelector("#question-empty");Boolean(n.trim())?(t.errors.isQuestionEmpty=!1,e.removeAttribute("id"),a.style.display="none"):(t.errors.isQuestionEmpty=!0,e.setAttribute("id","input-error"),a.style.display="inline"),t.values.questionTextInputValue=n},sendQuestion=async e=>await fetch("https://debitorov.net/question",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(e)}),handleQuestionFormSubmit=async(e,t,n,a,o)=>{handleChangeEmailInput(t,o),handleChangeNameInput(n,o),handleChangeQuestionTextInput(a,o),console.log(o);if(Object.values(o.errors).every((e=>!e))){const t=document.querySelector("#question-success-hide")||document.querySelector("#question-success-show"),n=document.querySelector("#question-error-hide")||document.querySelector("#question-error-show");t.setAttribute("id","question-success-hide"),n.setAttribute("id","question-error-hide");const{emailInputValue:a,nameInputValue:i,questionTextInputValue:s}=o.values;(await sendQuestion({email:a,name:i,question:s})).ok?(t.setAttribute("id","question-success-show"),e.reset()):n.setAttribute("id","question-error-show")}};window.addEventListener("load",(e=>{const t={counter:1,interval:null};autoRadioSwitch(t),handleRadioSwitch(t)}));const handleRadioSwitch=e=>{document.querySelectorAll("input[type='radio']").forEach(((t,n)=>{t.addEventListener("click",(t=>{e.counter=n+1,clearInterval(e.interval),autoRadioSwitch(e)}))}))},autoRadioSwitch=e=>{checkRadio(e);const t=setInterval((()=>{checkRadio(e)}),8e3);e.interval=t},checkRadio=e=>{let{counter:t}=e;document.querySelector(`#radio${t}`).checked=!0,4===t?t=1:t+=1,e.counter=t};
//# sourceMappingURL=bundle.min.js.map
